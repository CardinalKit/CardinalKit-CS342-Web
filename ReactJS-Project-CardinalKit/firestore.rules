rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents/studies/{studyId}/users {
    match /{userId}/{document=**} {
      allow read, write: if request.auth.uid == userId;
    }
  }
  match /databases/{database}/documents/med.stanford.mh.sample/study {
    //     match /mhs_users/{userId}/{document=**} {
    //       // allow read,write: if request.auth.uid == userId;
    //       allow read,write: if true;

    //     }
    // For iOS app - mh_users can edit their own directories
    match /mhs_users/{userId} {
    // allow read,write: if request.auth.uid == userId;
    allow read,write: if true;

    }
    match /mhs_users/{userId}/mhs_surveys/{survyId} {
    // allow read,write: if request.auth.uid == userId;
    allow read,write: if true;
    }

    match /mhs_providers/{userId} {
        // allow read,write: if request.auth.uid == userId;
        allow read,write: if true;
    }
	}
}